(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let o={todo:"bg-pink-400",doing:"bg-yellow-400",done:"bg-emerald-400"},n={todo:"To Do",doing:"Doing",done:"Done"};function s(){let[e,s]=(0,a.useState)([]),[i,l]=(0,a.useState)("all"),[d,r]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),m=(0,a.useCallback)(async()=>{let e=await fetch("/api/todos");s(await e.json())},[]);(0,a.useEffect)(()=>{m()},[m]),(0,a.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission();let t=setInterval(()=>{let t=new Date;e.forEach(e=>{if(e.deadline&&"done"!==e.status){let a=new Date(e.deadline).getTime()-t.getTime();a>0&&a<=18e5&&"granted"===Notification.permission&&new Notification(`Reminder: ${e.title}`,{body:`Due in ${Math.round(a/6e4)} minutes!`})}})},6e4);return()=>clearInterval(t)},[e]);let x=async e=>{e.preventDefault(),d.trim()&&(await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:d,deadline:c||null})}),r(""),u(""),m())},g=async(e,t)=>{await fetch(`/api/todos/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})}),m()},h=async e=>{await fetch(`/api/todos/${e}`,{method:"DELETE"}),m()},p="all"===i?e:e.filter(e=>e.status===i);return(0,t.jsxs)("main",{className:"max-w-2xl mx-auto p-6",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8 text-gray-900",children:"todos"}),(0,t.jsxs)("form",{onSubmit:x,className:"mb-8 p-6 bg-white rounded-2xl border-2 border-gray-900",children:[(0,t.jsx)("input",{type:"text",value:d,onChange:e=>r(e.target.value),placeholder:"What needs to be done?",className:"w-full text-lg p-3 border-2 border-gray-200 rounded-xl mb-4 focus:outline-none focus:border-gray-900"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("input",{type:"datetime-local",value:c,onChange:e=>u(e.target.value),className:"flex-1 p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gray-900"}),(0,t.jsx)("button",{type:"submit",className:"px-8 py-3 bg-gray-900 text-white font-semibold rounded-xl hover:bg-gray-800 transition-colors",children:"Add"})]})]}),(0,t.jsx)("div",{className:"flex gap-2 mb-6",children:["all","todo","doing","done"].map(e=>(0,t.jsx)("button",{onClick:()=>l(e),className:`px-4 py-2 rounded-xl font-medium transition-all ${i===e?"bg-gray-900 text-white":"bg-white border-2 border-gray-200 hover:border-gray-900"}`,children:"all"===e?"All":n[e]},e))}),(0,t.jsxs)("div",{className:"space-y-3",children:[p.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-white rounded-2xl border-2 border-gray-200 flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-3 h-3 rounded-full ${o[e.status]}`}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-medium ${"done"===e.status?"line-through text-gray-400":""}`,children:e.title}),e.deadline&&(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Due: ",new Date(e.deadline).toLocaleString()]})]}),(0,t.jsxs)("select",{value:e.status,onChange:t=>g(e.id,t.target.value),className:`px-3 py-1 rounded-lg text-white font-medium ${o[e.status]}`,children:[(0,t.jsx)("option",{value:"todo",children:"To Do"}),(0,t.jsx)("option",{value:"doing",children:"Doing"}),(0,t.jsx)("option",{value:"done",children:"Done"})]}),(0,t.jsx)("button",{onClick:()=>h(e.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:"âœ•"})]},e.id)),0===p.length&&(0,t.jsx)("p",{className:"text-center text-gray-400 py-8",children:"No tasks yet"})]})]})}e.s(["default",()=>s])}]);