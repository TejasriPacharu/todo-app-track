{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../src/app/page.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { Todo, Status } from \"@/types/todo\";\n\nconst STATUS_COLORS: Record<Status, string> = {\n  todo: \"bg-pink-400\",\n  doing: \"bg-yellow-400\",\n  done: \"bg-emerald-400\",\n};\n\nconst STATUS_LABELS: Record<Status, string> = {\n  todo: \"To Do\",\n  doing: \"Doing\",\n  done: \"Done\",\n};\n\nexport default function Home() {\n  const [todos, setTodos] = useState<Todo[]>([]);\n  const [filter, setFilter] = useState<Status | \"all\">(\"all\");\n  const [title, setTitle] = useState(\"\");\n  const [deadline, setDeadline] = useState(\"\");\n\n  const fetchTodos = useCallback(async () => {\n    const res = await fetch(\"/api/todos\");\n    setTodos(await res.json());\n  }, []);\n\n  useEffect(() => {\n    fetchTodos();\n  }, [fetchTodos]);\n\n  // Check for reminders every minute\n  useEffect(() => {\n    const checkReminders = () => {\n      const now = new Date();\n      todos.forEach((todo) => {\n        if (todo.deadline && todo.status !== \"done\") {\n          const deadlineDate = new Date(todo.deadline);\n          const diff = deadlineDate.getTime() - now.getTime();\n          const thirtyMin = 30 * 60 * 1000;\n          if (diff > 0 && diff <= thirtyMin) {\n            if (Notification.permission === \"granted\") {\n              new Notification(`Reminder: ${todo.title}`, {\n                body: `Due in ${Math.round(diff / 60000)} minutes!`,\n              });\n            }\n          }\n        }\n      });\n    };\n\n    if (\"Notification\" in window && Notification.permission === \"default\") {\n      Notification.requestPermission();\n    }\n\n    const interval = setInterval(checkReminders, 60000);\n    return () => clearInterval(interval);\n  }, [todos]);\n\n  const addTodo = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!title.trim()) return;\n    await fetch(\"/api/todos\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ title, deadline: deadline || null }),\n    });\n    setTitle(\"\");\n    setDeadline(\"\");\n    fetchTodos();\n  };\n\n  const updateStatus = async (id: string, status: Status) => {\n    await fetch(`/api/todos/${id}`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ status }),\n    });\n    fetchTodos();\n  };\n\n  const deleteTodo = async (id: string) => {\n    await fetch(`/api/todos/${id}`, { method: \"DELETE\" });\n    fetchTodos();\n  };\n\n  const filtered = filter === \"all\" ? todos : todos.filter((t) => t.status === filter);\n\n  return (\n    <main className=\"max-w-2xl mx-auto p-6\">\n      <h1 className=\"text-4xl font-bold mb-8 text-gray-900\">todos</h1>\n\n      {/* Add form */}\n      <form onSubmit={addTodo} className=\"mb-8 p-6 bg-white rounded-2xl border-2 border-gray-900\">\n        <input\n          type=\"text\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          placeholder=\"What needs to be done?\"\n          className=\"w-full text-lg p-3 border-2 border-gray-200 rounded-xl mb-4 focus:outline-none focus:border-gray-900\"\n        />\n        <div className=\"flex gap-4\">\n          <input\n            type=\"datetime-local\"\n            value={deadline}\n            onChange={(e) => setDeadline(e.target.value)}\n            className=\"flex-1 p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gray-900\"\n          />\n          <button\n            type=\"submit\"\n            className=\"px-8 py-3 bg-gray-900 text-white font-semibold rounded-xl hover:bg-gray-800 transition-colors\"\n          >\n            Add\n          </button>\n        </div>\n      </form>\n\n      {/* Filter tabs */}\n      <div className=\"flex gap-2 mb-6\">\n        {([\"all\", \"todo\", \"doing\", \"done\"] as const).map((f) => (\n          <button\n            key={f}\n            onClick={() => setFilter(f)}\n            className={`px-4 py-2 rounded-xl font-medium transition-all ${\n              filter === f\n                ? \"bg-gray-900 text-white\"\n                : \"bg-white border-2 border-gray-200 hover:border-gray-900\"\n            }`}\n          >\n            {f === \"all\" ? \"All\" : STATUS_LABELS[f]}\n          </button>\n        ))}\n      </div>\n\n      {/* Todo list */}\n      <div className=\"space-y-3\">\n        {filtered.map((todo) => (\n          <div\n            key={todo.id}\n            className=\"p-4 bg-white rounded-2xl border-2 border-gray-200 flex items-center gap-4\"\n          >\n            <div className={`w-3 h-3 rounded-full ${STATUS_COLORS[todo.status]}`} />\n            <div className=\"flex-1\">\n              <p className={`font-medium ${todo.status === \"done\" ? \"line-through text-gray-400\" : \"\"}`}>\n                {todo.title}\n              </p>\n              {todo.deadline && (\n                <p className=\"text-sm text-gray-500\">\n                  Due: {new Date(todo.deadline).toLocaleString()}\n                </p>\n              )}\n            </div>\n            <select\n              value={todo.status}\n              onChange={(e) => updateStatus(todo.id, e.target.value as Status)}\n              className={`px-3 py-1 rounded-lg text-white font-medium ${STATUS_COLORS[todo.status]}`}\n            >\n              <option value=\"todo\">To Do</option>\n              <option value=\"doing\">Doing</option>\n              <option value=\"done\">Done</option>\n            </select>\n            <button\n              onClick={() => deleteTodo(todo.id)}\n              className=\"p-2 text-gray-400 hover:text-red-500 transition-colors\"\n            >\n              âœ•\n            </button>\n          </div>\n        ))}\n        {filtered.length === 0 && (\n          <p className=\"text-center text-gray-400 py-8\">No tasks yet</p>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"0NA0BQG,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEC,eAAe,+BCFxCP,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEE,KAAK,0CCA9B,EAAA,EAAA,CAAA,CAAA,OAGA,IAAM,EAAwC,CAC5C,KAAM,cACN,MAAO,gBACP,KAAM,gBACR,EAEM,EAAwC,CAC5C,KAAM,QACN,MAAO,QACP,KAAM,MACR,EAEe,SAAS,IACtB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,EAAE,EACvC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,OAC/C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAEnC,EAAa,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UAC7B,IAAM,EAAM,MAAM,MAAM,cACxB,EAAS,MAAM,EAAI,IAAI,GACzB,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,CAAC,EAAW,EAGf,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAmBJ,iBAAkB,QAAsC,WAAW,CAAvC,aAAa,UAAU,EACrD,aAAa,iBAAiB,GAGhC,IAAM,EAAW,YAtBM,AAsBM,KArB3B,IAAM,EAAM,IAAI,KAChB,EAAM,OAAO,CAAE,AAAD,IACZ,GAAI,EAAK,QAAQ,EAAoB,SAAhB,EAAK,MAAM,CAAa,CAE3C,IAAM,EADe,AACR,IADY,KAAK,EAAK,QAAQ,EACjB,OAAO,GAAK,EAAI,OAAO,GAE7C,EAAO,GAAK,GADE,KAAK,AACC,CACU,IAFN,MACO,CACU,CAAvC,aAAa,UAAU,EACzB,IAAI,aAAa,CAAC,UAAU,EAAE,EAAK,KAAK,CAAA,CAAE,CAAE,CAC1C,KAAM,CAAC,OAAO,EAAE,KAAK,KAAK,CAAC,EAAO,KAAO,SAAS,CACpD,AADqD,EAI3D,CACF,EACF,EAM6C,KAC7C,MAAO,IAAM,cAAc,EAC7B,EAAG,CAAC,EAAM,EAEV,IAAM,EAAU,MAAO,IACrB,EAAE,cAAc,GACX,EAAM,IAAI,IAAI,CACnB,MAAM,MAAM,aAAc,CACxB,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,OAAE,EAAO,SAAU,GAAY,IAAK,EAC3D,GACA,EAAS,IACT,EAAY,IACZ,IACF,EAEM,EAAe,MAAO,EAAY,KACtC,MAAM,MAAM,CAAC,WAAW,EAAE,EAAA,CAAI,CAAE,CAC9B,OAAQ,MACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,QAAE,CAAO,EAChC,GACA,GACF,EAEM,EAAa,MAAO,IACxB,MAAM,MAAM,CAAC,WAAW,EAAE,EAAA,CAAI,CAAE,CAAE,OAAQ,QAAS,GACnD,GACF,EAEM,EAAsB,QAAX,EAAmB,EAAQ,EAAM,MAAM,CAAC,AAAC,GAAM,EAAE,MAAM,GAAK,GAE7E,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kCACd,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAwC,UAGtD,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAS,UAAU,mEACjC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,YAAY,yBACZ,UAAU,yGAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,iBACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,UAAU,4FAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,yGACX,cAOL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACX,CAAC,MAAO,OAAQ,QAAS,OAAO,CAAW,GAAG,CAAC,AAAC,GAChD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAU,GACzB,UAAW,CAAC,gDAAgD,EAC1D,IAAW,EACP,yBACA,0DAAA,CACJ,UAEK,QAAN,EAAc,MAAQ,CAAa,CAAC,EAAE,EARlC,MAcX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAS,GAAG,CAAE,AAAD,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,sFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,qBAAqB,EAAE,CAAa,CAAC,EAAK,MAAM,CAAC,CAAA,CAAE,GACpE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,CAAC,YAAY,EAAkB,SAAhB,EAAK,MAAM,CAAc,6BAA+B,GAAA,CAAI,UACtF,EAAK,KAAK,GAEZ,EAAK,QAAQ,EACZ,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCAAwB,QAC7B,IAAI,KAAK,EAAK,QAAQ,EAAE,cAAc,SAIlD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EAAK,MAAM,CAClB,SAAU,AAAC,GAAM,EAAa,EAAK,EAAE,CAAE,EAAE,MAAM,CAAC,KAAK,EACrD,UAAW,CAAC,4CAA4C,EAAE,CAAa,CAAC,EAAK,MAAM,CAAC,CAAA,CAAE,WAEtF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,gBAAO,UACrB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,iBAAQ,UACtB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,gBAAO,YAEvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAW,EAAK,EAAE,EACjC,UAAU,kEACX,QA1BI,EAAK,EAAE,GA+BK,IAApB,EAAS,MAAM,EACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,sBAKxD","ignoreList":[0,1,2]}