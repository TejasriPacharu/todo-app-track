module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},40777,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d={todo:"bg-pink-400",doing:"bg-yellow-400",done:"bg-emerald-400"},e={todo:"To Do",doing:"Doing",done:"Done"};function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)("all"),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),m=(0,c.useCallback)(async()=>{let a=await fetch("/api/todos");f(await a.json())},[]);(0,c.useEffect)(()=>{m()},[m]),(0,c.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission();let b=setInterval(()=>{let b=new Date;a.forEach(a=>{if(a.deadline&&"done"!==a.status){let c=new Date(a.deadline).getTime()-b.getTime();c>0&&c<=18e5&&"granted"===Notification.permission&&new Notification(`Reminder: ${a.title}`,{body:`Due in ${Math.round(c/6e4)} minutes!`})}})},6e4);return()=>clearInterval(b)},[a]);let n=async a=>{a.preventDefault(),i.trim()&&(await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:i,deadline:k||null})}),j(""),l(""),m())},o=async(a,b)=>{await fetch(`/api/todos/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:b})}),m()},p=async a=>{await fetch(`/api/todos/${a}`,{method:"DELETE"}),m()},q="all"===g?a:a.filter(a=>a.status===g);return(0,b.jsxs)("main",{className:"max-w-2xl mx-auto p-6",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-8 text-gray-900",children:"todos"}),(0,b.jsxs)("form",{onSubmit:n,className:"mb-8 p-6 bg-white rounded-2xl border-2 border-gray-900",children:[(0,b.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),placeholder:"What needs to be done?",className:"w-full text-lg p-3 border-2 border-gray-200 rounded-xl mb-4 focus:outline-none focus:border-gray-900"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("input",{type:"datetime-local",value:k,onChange:a=>l(a.target.value),className:"flex-1 p-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gray-900"}),(0,b.jsx)("button",{type:"submit",className:"px-8 py-3 bg-gray-900 text-white font-semibold rounded-xl hover:bg-gray-800 transition-colors",children:"Add"})]})]}),(0,b.jsx)("div",{className:"flex gap-2 mb-6",children:["all","todo","doing","done"].map(a=>(0,b.jsx)("button",{onClick:()=>h(a),className:`px-4 py-2 rounded-xl font-medium transition-all ${g===a?"bg-gray-900 text-white":"bg-white border-2 border-gray-200 hover:border-gray-900"}`,children:"all"===a?"All":e[a]},a))}),(0,b.jsxs)("div",{className:"space-y-3",children:[q.map(a=>(0,b.jsxs)("div",{className:"p-4 bg-white rounded-2xl border-2 border-gray-200 flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${d[a.status]}`}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`font-medium ${"done"===a.status?"line-through text-gray-400":""}`,children:a.title}),a.deadline&&(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Due: ",new Date(a.deadline).toLocaleString()]})]}),(0,b.jsxs)("select",{value:a.status,onChange:b=>o(a.id,b.target.value),className:`px-3 py-1 rounded-lg text-white font-medium ${d[a.status]}`,children:[(0,b.jsx)("option",{value:"todo",children:"To Do"}),(0,b.jsx)("option",{value:"doing",children:"Doing"}),(0,b.jsx)("option",{value:"done",children:"Done"})]}),(0,b.jsx)("button",{onClick:()=>p(a.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:"âœ•"})]},a.id)),0===q.length&&(0,b.jsx)("p",{className:"text-center text-gray-400 py-8",children:"No tasks yet"})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5da9246e._.js.map